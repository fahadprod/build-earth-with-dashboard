(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{81875:function(e){e.exports={API_SERVER:"http://localhost:3000"}},92357:function(e,r,t){"use strict";var n=t(85893),a=t(67294),s=t(57254),i=t(85296),o=t(97183),l=t(42696),c=t(98453),d=t(41664),u=t(90244);r.Z=function(){i.Z.SubMenu,o.Z.Header,o.Z.Content,o.Z.Sider;var e=(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(i.Z.Item,{children:(0,n.jsx)(d.default,{href:"/find-properties",as:"/find-properties",children:(0,n.jsx)("a",{rel:"noopener noreferrer",children:"Find Property"})})}),(0,n.jsx)(i.Z.Item,{danger:!0,children:(0,n.jsx)("a",{onClick:u.kS,children:"Logout"})})]});return(0,n.jsx)(a.Fragment,{children:(0,n.jsx)(l.Z,{overlay:e,children:(0,n.jsx)("a",{style:{float:"right"},className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},children:(0,n.jsx)(c.C,{style:{float:"right",height:"50px",width:"50px"},src:"../img/avatar2.png",children:(0,n.jsx)(s.Z,{})})})})})}},38130:function(e,r,t){"use strict";var n=t(85893),a=(t(67294),t(85296)),s=t(97183),i=t(59271),o=t(89366),l=t(41664),c=a.Z.SubMenu,d=s.Z.Sider;r.Z=function(){return(0,n.jsx)(d,{width:200,className:"site-layout-background",children:(0,n.jsxs)(a.Z,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0},children:[(0,n.jsxs)(c,{icon:(0,n.jsx)(i.Z,{}),title:"Property",children:[(0,n.jsx)(a.Z.Item,{children:(0,n.jsx)(l.default,{href:"/dashboard",as:"/dashboard",children:"All Property"})},"1"),(0,n.jsx)(a.Z.Item,{children:(0,n.jsx)(l.default,{href:"/addProperty",as:"/addProperty",children:"Add New Property"})},"2")]},"sub1"),(0,n.jsx)(c,{icon:(0,n.jsx)(o.Z,{}),title:"Profile",children:(0,n.jsx)(a.Z.Item,{children:(0,n.jsx)(l.default,{href:"/updateProfile",as:"/updateProfile",children:"Edit Profile"})},"6")},"sub2")]})})}},90244:function(e,r,t){"use strict";t.d(r,{YR:function(){return o},$D:function(){return l},kS:function(){return c}});var n=t(36808),a=t.n(n),s=t(11163),i=function(e){return a().get(e)},o=function(e,r){var t,n;t="token",n=e.data.token,a().set(t,n,{expires:1}),function(e,r){localStorage.setItem(e,JSON.stringify(r))}("user",e.data.user),r()},l=function(){if(i("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))},c=function(){var e;e="token",a().remove(e),function(e){localStorage.removeItem(e)}("user"),s.default.push("/find-properties")}},30790:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return N}});var n=t(85893),a=t(67294),s=t(97183),i=t(11700),o=t(96156),l=t(87757),c=t.n(l),d=t(92137),u=t(9669),p=t.n(u),h=t(90244),m=t(11163),f=t(38130),x=t(11382);function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var y=t(81875),v=(s.Z.Header,s.Z.Content),b=function(){var e=(0,m.useRouter)(),r=(0,a.useState)({society:"",name:"",category:"",address:"",price:"",formData:new FormData,imageUploadText:"Upload Image"}),t=r[0],i=r[1],l=(0,a.useState)(null),u=l[0],h=l[1],j=(0,a.useState)(null),b=j[0],Z=j[1],S=(0,a.useState)(!1),P=S[0],N=S[1];(0,a.useEffect)((0,d.Z)(c().mark((function r(){var t,n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.query.id,Z(t),r.prev=2,r.next=5,p().get("".concat(y.API_SERVER,"/api/property/single/").concat(t));case 5:n=r.sent,i({society:n.data.society,name:n.data.name,category:n.data.category,address:n.data.address,price:n.data.price}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[2,9]])}))),[Z]),console.log("propertyId"+b);var w=t.society,O=t.name,C=t.category,k=t.address,E=t.price,D=(t.formData,function(e){return function(r){var n="imageUpload"===e?r.target.files[0]:r.target.value;i(g(g({},t),{},(0,o.Z)({},e,n)))}}),A=function(){var e=(0,d.Z)(c().mark((function e(r){var n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N({loading:!0}),r.preventDefault(),(n=new FormData).append("file",u),n.append("society",w),n.append("name",O),n.append("category",C),n.append("address",k),n.append("price",E),i(g({},t)),e.prev=10,e.next=13,p().put("".concat(y.API_SERVER,"/api/property/update/").concat(b),n,{headers:{"Content-Type":"application/json"}});case 13:a=e.sent,console.log(a),i(g(g({},t),{},{society:"",name:"",category:"",address:"",imageUpload:"",price:""})),200===a.status&&(N({loading:!1}),m.default.push("/dashboard")),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(10),console.log(e.t0),i(g({},t));case 23:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(r){return e.apply(this,arguments)}}();return(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(f.Z,{}),(0,n.jsx)(s.Z,{style:{padding:"0 24px 24px"},children:(0,n.jsxs)(v,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:[(0,n.jsx)("h2",{children:"Edit Property"}),(0,n.jsxs)("form",{onSubmit:A,encType:"multipart/form-data",children:[(0,n.jsxs)("div",{className:"form-row",children:[(0,n.jsxs)("div",{className:"form-group col-md-6",children:[(0,n.jsx)("label",{htmlFor:"inputEmail4",children:"Select Society"}),(0,n.jsxs)("select",{className:"custom-select mr-sm-2",id:"inlineFormCustomSelect",value:w,onChange:D("society"),required:!0,children:[(0,n.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Society"}),(0,n.jsx)("option",{value:"Al Jalil Garden",children:"Al Jalil Garden"}),(0,n.jsx)("option",{value:"Al Noor Orchard",children:"Al Noor Orchard"}),(0,n.jsx)("option",{value:"West Marina",children:"West Marina"})]})]}),(0,n.jsxs)("div",{className:"form-group col-md-6",children:[(0,n.jsx)("label",{htmlFor:"inputPassword4",children:"Select Type"}),(0,n.jsxs)("select",{value:O,onChange:D("name"),className:"custom-select mr-sm-2",id:"inlineFormCustomSelect",required:!0,children:[(0,n.jsx)("option",{value:"",disabled:!0,selected:!0,children:O}),(0,n.jsx)("option",{value:"Residential",children:"Residential"}),(0,n.jsx)("option",{value:"Commercial",children:"Commercial"})]})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"inputAddress",children:"Select Category"}),(0,n.jsxs)("select",{value:C,onChange:D("category"),className:"custom-select mr-sm-2",id:"inlineFormCustomSelect",required:!0,children:[(0,n.jsx)("option",{value:"",disabled:!0,selected:!0,children:C}),(0,n.jsx)("option",{value:"3 Marla",children:"3 Marla"}),(0,n.jsx)("option",{value:"5 Marla",children:"5 Marla"}),(0,n.jsx)("option",{value:"10 Marla",children:"10 Marla"}),(0,n.jsx)("option",{value:"1 Kanal",children:"1 Kanal"})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"inputAddress2",children:"Complete Address"}),(0,n.jsx)("input",{type:"text",value:k,onChange:D("address"),className:"form-control",id:"inputAddress2",placeholder:"Apartment, studio, or floor",required:!0})]}),(0,n.jsxs)("div",{className:"form-row",children:[(0,n.jsxs)("div",{className:"form-group col-md-6",children:[(0,n.jsx)("label",{htmlFor:"inputPrice",children:"Price"}),(0,n.jsx)("input",{type:"number",value:E,onChange:D("price"),className:"form-control",id:"price",min:"0",required:!0})]}),(0,n.jsxs)("div",{className:"form-group col-md-4",children:[(0,n.jsx)("label",{htmlFor:"inputPrice",children:"Image Upload"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return h(e.target.files[0])},required:!0})]})]}),(0,n.jsxs)("button",{type:"submit",className:"btn btn-primary",children:["Update ",P?(0,n.jsx)(x.Z,{}):""]})]})]})})]})},Z=t(92357),S=s.Z.Header,P=s.Z.Footer,N=(s.Z.Sider,s.Z.Content,function(){return(0,n.jsxs)("div",{className:"admin-main",children:[(0,n.jsxs)(S,{style:{padding:10},children:[(0,n.jsx)(Z.Z,{}),(0,n.jsx)(i.Z,{style:{color:"white"},level:3,children:(0,h.$D)()&&"staff"==(0,h.$D)().role?"Staff Dashboard":"Dealer Dashboard"})]}),(0,n.jsx)(b,{}),(0,n.jsx)(P,{style:{textAlign:"center"},children:"Build Earth. Copyright@buildearth.com"})]})})},16292:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/updateProperty",function(){return t(30790)}])}},function(e){e.O(0,[116,269,551,774,888,179],(function(){return r=16292,e(e.s=r);var r}));var r=e.O();_N_E=r}]);