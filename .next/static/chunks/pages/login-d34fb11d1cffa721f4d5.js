(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{63349:function(e,r,t){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(r,{Z:function(){return n}})},77608:function(e,r,t){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.d(r,{Z:function(){return n}})},65255:function(e,r,t){"use strict";function n(e,r){return(n=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function s(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&n(e,r)}t.d(r,{Z:function(){return s}})},46070:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var n=t(90484),s=t(63349);function i(e,r){return!r||"object"!==(0,n.Z)(r)&&"function"!==typeof r?(0,s.Z)(e):r}},90484:function(e,r,t){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.d(r,{Z:function(){return n}})},68832:function(e,r,t){"use strict";t.d(r,{r:function(){return s},U:function(){return i}});var n=t(85893),s=function(e){return(0,n.jsxs)("div",{class:"alert alert-success alert-dismissible fade show",role:"alert",children:[e,(0,n.jsx)("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",children:(0,n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})},i=function(e){return(0,n.jsxs)("div",{class:"alert alert-danger alert-dismissible fade show",role:"alert",children:[e,(0,n.jsx)("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",children:(0,n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})}},82309:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return L}});var n=t(85893),s=t(67294),i=(t(9008),t(72541)),a=t(93248),c=t(6610),o=t(5991),l=t(65255),u=t(46070),d=t(77608),m=t(87757),f=t.n(m),h=t(92137),p=t(96156),x=(t(41664),t(11163)),j=t(9669),v=t.n(j),b=t(68832),y=t(90244);function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){(0,p.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var w=t(81875),O=function(e){var r=(0,s.useState)({email:"",password:"",success:"",error:"",buttonText:"Login"}),t=r[0],i=r[1];(0,s.useEffect)((function(){(0,y.$D)()&&x.default.push("/")}),[]);var a=function(e){var r;return i(N(N({},t),{},(r={},(0,p.Z)(r,e.target.name,e.target.value),(0,p.Z)(r,"error",""),(0,p.Z)(r,"buttonText","Login"),r)))},c=t.email,o=t.password,l=t.success,u=t.error,d=t.buttonText,m=function(){var e=(0,h.Z)(f().mark((function e(r){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),i(N(N({},t),{},{buttonText:"Logging"})),e.prev=2,e.next=5,v().post("".concat(w.API_SERVER,"/api/login"),{email:c,password:o});case 5:n=e.sent,console.log(n),(0,y.YR)(n,(function(){return(0,y.$D)()&&(0,y.$D)().role,x.default.push("/dashboard")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),i(N(N({},t),{},{buttonText:"Login",error:e.t0.response.data.error}));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(r){return e.apply(this,arguments)}}();return(0,n.jsx)(s.Fragment,{children:(0,n.jsxs)("div",{className:"base-container container-height",ref:e.containerRef,children:[l&&(0,b.r)(l),u&&(0,b.U)(u),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"header",children:["LOGIN FORM ",(0,n.jsx)("hr",{})," "]}),(0,n.jsxs)("form",{onSubmit:m,children:[(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{value:c,onChange:function(e){return a(e)},type:"Email",placeholder:"Type your Email",name:"email",required:!0})]})}),(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{value:o,onChange:function(e){return a(e)},type:"password",name:"password",placeholder:"Type your Password",required:!0})]})})]}),(0,n.jsx)("div",{className:"footer1",children:(0,n.jsx)("button",{type:"submit",className:"btn",children:d})})]})]})})};t(42283);function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach((function(r){(0,p.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var R=t(81875),S=function(e){var r=(0,s.useState)({firstName:"",lastName:"",email:"",password:"",address:"",cellPhone:"",cnicNumber:"",city:"",country:"",role:"",success:"",error:"",buttonText:"Register"}),t=r[0],i=r[1];(0,s.useEffect)((function(){(0,y.$D)()&&x.default.push("/")}),[]);var a=function(e){return function(r){var n;i(E(E({},t),{},(n={},(0,p.Z)(n,e,r.target.value),(0,p.Z)(n,"error",""),(0,p.Z)(n,"success",""),(0,p.Z)(n,"buttonText","Register"),n)))}},c=t.firstName,o=t.lastName,l=t.email,u=t.password,d=t.address,m=t.cellPhone,j=t.cnicNumber,g=t.city,N=t.country,w=t.role,O=t.error,P=t.success,S=t.buttonText,C=function(){var e=(0,h.Z)(f().mark((function e(r){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),i(E(E({},t),{},{buttonText:"Registering"})),e.prev=2,e.next=5,v().post("".concat(R.API_SERVER,"/api/register"),{firstName:c,lastName:o,email:l,password:u,address:d,cellPhone:m,cnicNumber:j,city:g,country:N,role:w});case 5:n=e.sent,i(E(E({},t),{},{firstName:"",lastName:"",email:"",password:"",address:"",cellPhone:"",cnicNumber:"",city:"",country:"",role:"",buttonText:"Submitted",success:n.data.message})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i(E(E({},t),{},{buttonText:"Register",error:e.t0.response.data.error}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(r){return e.apply(this,arguments)}}();return(0,n.jsx)(s.Fragment,{children:(0,n.jsxs)("div",{className:"base-container",ref:e.containerRef,children:[P&&(0,b.r)(P),(0,n.jsxs)("div",{className:"header",children:["REGISTRATION FORM ",(0,n.jsx)("hr",{})]}),O&&(0,b.U)(O),(0,n.jsxs)("form",{onSubmit:C,children:[(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"firstName",children:"First Name"}),(0,n.jsx)("input",{id:"firstName",type:"text",label:"First Name",placeholder:"Enter your first name",value:c,name:"firstName",onChange:a("firstName"),required:!0})]})}),(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),(0,n.jsx)("input",{id:"lastName",type:"text",placeholder:"Enter your last name",value:o,name:"lastName",onChange:a("lastName"),required:!0})]})}),(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",placeholder:"Enter your email address",value:l,name:"email",onChange:a("email"),required:!0})]})}),(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{id:"password",type:"password",placeholder:"Enter your password",value:u,name:"password",onChange:a("password"),required:!0})]})}),(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"address",children:"Address"}),(0,n.jsx)("input",{id:"address",type:"text",placeholder:"Enter your address",value:d,name:"address",onChange:a("address"),required:!0})]})}),(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"cellPhone",children:"Cell#"}),(0,n.jsx)("input",{id:"cellPhone",type:"text",placeholder:"Enter your cellphone number",value:m,name:"cellPhone",onChange:a("cellPhone"),required:!0})]})}),(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"cnicNumber",children:"CNIC#"}),(0,n.jsx)("input",{id:"cnicNumber",type:"text",placeholder:"Enter your cnic number",value:j,name:"cnicNumber",onChange:a("cnicNumber"),required:!0})]})}),(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"city",children:"City#"}),(0,n.jsx)("input",{id:"city",type:"text",placeholder:"Enter your city",value:g,name:"city",onChange:a("city"),required:!0})]})}),(0,n.jsx)("div",{className:"form",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"country",children:"Country"}),(0,n.jsx)("input",{id:"country",type:"text",placeholder:"Enter your country",value:N,name:"country",onChange:a("country"),required:!0})]})}),(0,n.jsxs)("div",{className:"form-group",style:{textAlign:"initial"},children:[(0,n.jsx)("label",{htmlFor:"role",children:(0,n.jsx)("h4",{children:"Role"})}),(0,n.jsxs)("div",{className:"form-check",children:[(0,n.jsx)("input",{className:"form-check-input",type:"radio",name:"role",id:"exampleRadios1",value:"staff",onChange:a("role"),required:!0}),(0,n.jsx)("label",{className:"form-check-label",htmlFor:"exampleRadios1",children:"Staff"})]}),(0,n.jsxs)("div",{className:"form-check",children:[(0,n.jsx)("input",{className:"form-check-input",type:"radio",name:"role",id:"exampleRadios2",value:"dealer",onChange:a("role"),required:!0}),(0,n.jsx)("label",{className:"form-check-label",htmlFor:"exampleRadios2",children:"Dealer"})]})]})]}),(0,n.jsx)("div",{className:"footer1",children:(0,n.jsx)("button",{type:"submit",className:"btn",children:S})})]})]})})};function C(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=(0,d.Z)(e);if(r){var s=(0,d.Z)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,u.Z)(this,t)}}var Z=function(e){(0,l.Z)(t,e);var r=C(t);function t(e){var n;return(0,c.Z)(this,t),(n=r.call(this,e)).state={isLoginActive:!0},n}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){this.rightSide.classList.add("right")}},{key:"changeState",value:function(){this.state.isLoginActive?(this.rightSide.classList.remove("right"),this.rightSide.classList.add("left")):(this.rightSide.classList.remove("left"),this.rightSide.classList.add("right")),this.setState((function(e){return{isLoginActive:!e.isLoginActive}}))}},{key:"render",value:function(){var e=this,r=this.state.isLoginActive,t=r?"Register":"Login",s=r?"login":"register";return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"form-page-parent",children:(0,n.jsxs)("div",{className:"form-page-child",children:[(0,n.jsxs)("div",{className:"form-page-container",ref:function(r){return e.container=r},children:[r&&(0,n.jsx)(O,{containerRef:function(r){return e.current=r}}),!r&&(0,n.jsx)(S,{containerRef:function(r){return e.current=r}})]}),(0,n.jsx)(_,{current:t,currentActive:s,containerRef:function(r){return e.rightSide=r},onClick:this.changeState.bind(this)})]})})})}}]),t}(s.Component),_=function(e){return(0,n.jsx)("div",{className:"right-side",ref:e.containerRef,onClick:e.onClick,children:(0,n.jsx)("div",{className:"inner-container",children:(0,n.jsx)("div",{className:"text",children:e.current})})})},k=Z,F=function(){return(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(i.J0,{className:!0}),(0,n.jsx)(a.W_,{}),(0,n.jsxs)("div",{id:"full-page",children:[(0,n.jsx)("div",{className:"container-fluid main-page",children:(0,n.jsx)("div",{className:"container bg-logo",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-md-12 text-center",children:(0,n.jsx)("img",{className:"img-fluid gallery-lion",src:"https://build-earth.s3.us-east-2.amazonaws.com/img/about/Lion+Abt.svg",alt:"Center Lion"})})})})}),(0,n.jsx)(k,{})]})]})},L=function(){return(0,n.jsx)(F,{})}},7156:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(82309)}])}},function(e){e.O(0,[571,716,269,283,248,774,888,179],(function(){return r=7156,e(e.s=r);var r}));var r=e.O();_N_E=r}]);